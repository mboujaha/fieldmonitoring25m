# General
APP_ENV=development
APP_HOST=0.0.0.0
APP_PORT=8002
WEB_PORT=3000
TILER_PORT=8081

# Database
POSTGRES_DB=fieldmonitor
POSTGRES_USER=fieldmonitor
POSTGRES_PASSWORD=fieldmonitor
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
DATABASE_URL=postgresql+psycopg://fieldmonitor:fieldmonitor@postgres:5432/fieldmonitor

# Redis / Queue
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/1

# Object storage
S3_ENDPOINT_URL=http://minio:9000
# Host-reachable S3 endpoint for browser download links (presigned URLs).
S3_PUBLIC_ENDPOINT_URL=http://localhost:9000
S3_REGION=us-east-1
S3_BUCKET=fieldmonitor-assets
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_SECURE=false

# Security
JWT_SECRET_KEY=please-change-me
JWT_REFRESH_SECRET_KEY=please-change-me-too
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Feature flags defaults
SR_ANALYTICS_DEFAULT=false
SR_PROVIDER=sr4rs
# Supported values: sr4rs, sr4rs_local, s2dr3_external, disabled, nearest
SR4RS_SCRIPT_PATH=/opt/sr4rs/code/sr.py
SR4RS_MODEL_DIR=/workspace/.cache/sr4rs/sr4rs_sentinel2_bands4328_france2020_savedmodel
SR4RS_MODEL_URL=https://nextcloud.inrae.fr/s/6xM4jRzYx2A9Qn4/download?path=%2F&files=sr4rs_sentinel2_bands4328_france2020_savedmodel.zip
SR4RS_TIMEOUT_SECONDS=1800
SR4RS_SCALE_FACTOR=4
SR4RS_PYTHON_EXECUTABLE=python3
S2DR3_EXTERNAL_ENDPOINT=
S2DR3_EXTERNAL_API_KEY=
S2DR3_COMMAND_TEMPLATE=
S2DR3_BAND_ORDER=B02,B03,B04,B08
S2DR3_SCALE_FACTOR=10
S2DR3_TIMEOUT_SECONDS=1800
CLOUD_CAP_PERCENT=20
MIN_VALID_PIXEL_RATIO=0.60
MIN_SCENE_COVERAGE_RATIO=0.98

# Planetary Computer
PC_STAC_URL=https://planetarycomputer.microsoft.com/api/stac/v1
PC_SUBSCRIPTION_KEY=
TILER_INTERNAL_URL=http://tiler:8081

# Frontend
NEXT_PUBLIC_API_BASE_URL=http://localhost:8002
NEXT_PUBLIC_MAP_STYLE=https://basemaps.cartocdn.com/gl/voyager-gl-style/style.json
NEXT_PUBLIC_DEFAULT_CENTER=-5.5,35.2
NEXT_PUBLIC_DEFAULT_ZOOM=7
